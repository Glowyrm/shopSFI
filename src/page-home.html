<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="components/component-button.html">
<link rel="import" href="components/component-image.html">

<dom-module id="page-home">

  <template>

    <style include="component-button">

      .image-link { outline: none; }

      /*
      .image-link > component-image::after { display: block; content: ''; position: absolute; transition-property: opacity; transition-duration: 0s; transition-delay: 90ms; pointer-events: none; opacity: 0; top: 5px; left: 5px; right: 5px; bottom: 5px; outline: #2196F3 auto 5px; outline: -moz-mac-focusring auto 5px; outline: -webkit-focus-ring-color auto 5px; }
      .image-link:focus > component-image::after { opacity: 1; } */

      .item { display: block; position: relative; text-decoration: none; text-align: center; margin-bottom: 40px; }

      component-image { position: relative; height: 100vh; max-width: 100%; overflow: hidden;
        --component-image-img: {
          position: absolute;
          top: 0;
          bottom: 0;
          left: -9999px;
          right: -9999px;
          max-width: 100%;
          max-height: 100%;
          height: 100vh;
          width: 100vw;
        };
      }

      component-image::after { display: block; content: ''; position: absolute; transition-property: opacity; transition-duration: 0s; transition-delay: 90ms; pointer-events: none; opacity: 0; top: 5px; left: 5px; right: 5px; bottom: 5px; outline: #2196F3 auto 5px; outline: -moz-mac-focusring auto 5px; outline: -webkit-focus-ring-color auto 5px; }

      .banner { display: block; width: 100%; position: absolute; top: 40%; }
      .banner h2 { font-size: 72px; margin: 1rem 0; text-transform: uppercase; color: white; display: block; font-weight: 900; text-align: center; text-shadow: 0px 0px 30px rgba(0, 0, 0, 1); }

      .item:nth-of-type(3) > h2,
      .item:nth-of-type(4) > h2 { font-size: 1.1em;  }

      @media (max-width: 767px) {
        component-image { height: 100vh; max-width: 100%; }

        .banner h2 { margin: 24px 0; font-size: 30px; margin: 1rem 0; text-transform: uppercase; color: white; display: block; font-weight: 900; text-align: center; }
        .item:nth-of-type(3) > component-button > a,
        .item:nth-of-type(4) > component-button > a { padding: 8px 24px; }
      }

    </style>

    <template is="dom-repeat" items="[[categories]]" strip-whitespace>
      <div class="item">
        <!--
        <a class="image-link" href$="/list/[[item.name]]">
            <component-image src="[[item.image]]" alt="[[item.title]]" placeholder-img="[[item.placeholder]]"></component-image>
        </a> -->
        <component-image src="[[item.image]]" alt="[[item.title]]" placeholder-img="[[item.placeholder]]"></component-image>

        <div class="banner">
            <h2>[[item.title]]</h2>
            <component-button>
              <a aria-label$="[[item.title]] Shop Now" href$="/list/[[item.name]]">View All</a>
            </component-button>
        </div>
      </div>
    </template>

  </template>

  <script>

    Polymer({

      is: 'page-home',

      properties: {

        categories: {
          type: Array
        },

        visible: {
          type: Boolean,
          observer: '_visibleChanged'
        }

      },

      _visibleChanged: function(visible) {
        if (visible) {
          this.fire('change-section', { title: 'Home' });
        }
      }

    });

  </script>

</dom-module>
