<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/fx-skew/fx-skew.html">
<link rel="import" href="../bower_components/fx-arrows/fx-arrows.html">
<!-- <link rel="import" href="fonts/fonts.html"> -->
<link rel="import" href="components/component-button.html">
<link rel="import" href="components/component-image.html">

<dom-module id="page-home">

  <template>

    <style include="component-button">
      .image-link { outline: none; }

      /*
      .image-link > component-image::after { display: block; content: ''; position: absolute; transition-property: opacity; transition-duration: 0s; transition-delay: 90ms; pointer-events: none; opacity: 0; top: 5px; left: 5px; right: 5px; bottom: 5px; outline: #2196F3 auto 5px; outline: -moz-mac-focusring auto 5px; outline: -webkit-focus-ring-color auto 5px; }
      .image-link:focus > component-image::after { opacity: 1; } */

      .item { display: block; position: relative; text-decoration: none; text-align: center; }

      component-image { position: relative; height: 100vh; max-width: 100%; overflow: hidden;
        --component-image-img: {
          position: absolute;
          top: 0;
          bottom: 0;
          left: -9999px;
          right: -9999px;
          max-width: 100%;
          max-height: 100%;
          height: 100vh;
          width: 100vw;
        };
      }

      component-image:nth-of-type(1) { height: 111vh;
          --component-image-img: {
            height: 111vh;
          };
      }


      component-image::after { display: block; content: ''; position: absolute; transition-property: opacity; transition-duration: 0s; transition-delay: 90ms; pointer-events: none; opacity: 0; top: 5px; left: 5px; right: 5px; bottom: 5px; outline: #2196F3 auto 5px; outline: -moz-mac-focusring auto 5px; outline: -webkit-focus-ring-color auto 5px; }

      .item .banner { display: inline-block; overflow: hidden; }
      .item .banner h2 {  }
      .item .banner component-button { background: var(--app-accent-color); color: white; }

      .item .banner fx-arrows { display: none; }
      .item:first-child .banner fx-arrows { display: block; margin: 10rem auto; }

      .item fx-skew { background: #fff; z-index: 1; min-height: 25vh; }
      .item:nth-of-type(4) fx-skew { background: var(--app-secondary-color); z-index: 1; min-height: auto; }

      @media (min-width: 0) and (max-width: 768px) {
        component-image { height: 100vh; max-width: 100%; }

        .item .banner { position: absolute; top: 25%; left: 50%; }
        .item .banner h2 { font-size: 30px; margin: 24px 0; }

      }

      @media (min-width: 769px) {
        component-image { height: 100vh; max-width: 100%; }

        .item .banner { position: absolute; top: 35%; left: 50%; }
        .item .banner h2 { font-size: 72px; margin: 1rem 0; }

      }

    </style>

    <template is="dom-repeat" items="[[categories]]" strip-whitespace>
      <div class="item">
        <!--
        <a class="image-link" href$="/list/[[item.name]]">
            <component-image src="[[item.image]]" alt="[[item.headline]]" placeholder-img="[[item.placeholder]]"></component-image>
        </a> -->
        <component-image src="[[item.image]]" alt="[[item.headline]]" placeholder-img="[[item.placeholder]]"></component-image>

        <div class="banner">
            <h2>[[item.headline]] <br />
                <strong>[[item.title]]</strong>
            </h2>

            <component-button>
              <a aria-label$="[[item.headline]] Shop Now" href$="/list/[[item.name]]">View All</a>
            </component-button>

            <fx-arrows color="white">
                <p>[[item.description]]</p>
            </fx-arrows>
        </div>

        <fx-skew></fx-skew>
      </div>
    </template>

  </template>

  <script>

    Polymer({

      is: 'page-home',

      properties: {

        categories: {
          type: Array
        },

        visible: {
          type: Boolean,
          observer: '_visibleChanged'
        }

      },

      _visibleChanged: function(visible) {
        if (visible) {
          this.fire('change-section', { headline: 'Home' });
        }
      }

    });

  </script>

</dom-module>
